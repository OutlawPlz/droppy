/**
 * Droppy - v1.0.6
 * Pure JavaScript multi-level dropdown menu.
 * By OutlawPlz, license GPL-3.0.
 * https://github.com/OutlawPlz/droppy.git
 */
Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var r,o;if(null===this)throw new TypeError(" this is null or not defined");var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=t),o=0;o<i;){var l;o in n&&(l=n[o],e.call(r,l,o,n)),o++}}),Array.prototype.map||(Array.prototype.map=function(e,t){var r,o,n;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),l=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=t),o=new Array(l),n=0;n<l;){var s,a;n in i&&(s=i[n],a=e.call(r,s,n,i),o[n]=a),n++}return o}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var r,o=arguments.length;for(r=0;r<o;r++)e=arguments[r],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:r.call(this,e)}}e=null}():!function(e){"use strict";if("Element"in e){var t="classList",r="prototype",o=e.Element[r],n=Object,i=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},l=Array[r].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return l.call(e,t)},c=function(e){for(var t=i.call(e.getAttribute("class")||""),r=t?t.split(/\s+/):[],o=0,n=r.length;o<n;o++)this.push(r[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},p=c[r]=[],u=function(){return new c(this)};if(s[r]=Error[r],p.item=function(e){return this[e]||null},p.contains=function(e){return e+="",a(this,e)!==-1},p.add=function(){var e,t=arguments,r=0,o=t.length,n=!1;do e=t[r]+"",a(this,e)===-1&&(this.push(e),n=!0);while(++r<o);n&&this._updateClassName()},p.remove=function(){var e,t,r=arguments,o=0,n=r.length,i=!1;do for(e=r[o]+"",t=a(this,e);t!==-1;)this.splice(t,1),i=!0,t=a(this,e);while(++o<n);i&&this._updateClassName()},p.toggle=function(e,t){e+="";var r=this.contains(e),o=r?t!==!0&&"remove":t!==!1&&"add";return o&&this[o](e),t===!0||t===!1?t:!r},p.toString=function(){return this.join(" ")},n.defineProperty){var f={get:u,enumerable:!0,configurable:!0};try{n.defineProperty(o,t,f)}catch(e){e.number===-2146823252&&(f.enumerable=!1,n.defineProperty(o,t,f))}}else n[r].__defineGetter__&&o.__defineGetter__(t,u)}}(self)),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1}),function(){"use strict";function e(e,r,o){if(e.nodeType!==Node.ELEMENT_NODE)return void(d&&d.error("Droppy: the given element is not valid.",e));this.element=e;var n=this.element.querySelector(r.dropdownSelector);if(!n)return void(d&&d.error("Droppy: the given dropdownSelector returns no value.",r.dropdownSelector));var i=this.element.querySelector(r.parentSelector);if(!i)return void(d&&d.err("Droppy: the given parentSelector returns no value.",r.parentSelector));var l=this.element.querySelector(r.triggerSelector);if(!l)return void(d&&d.err("Droppy: the given triggerSelector returns no value.",r.triggerSelector));var s={parentSelector:"li",dropdownSelector:"li > ul",triggerSelector:"a",closeOthers:!0,clickOutToClose:!0,clickEscToClose:!0,animationIn:"",animationOut:""};arguments[1]&&"object"==typeof arguments[1]?this.options=t(s,arguments[1]):this.options=s;var a={beforeOpen:null,afterOpen:null,beforeClose:null,afterClose:null,beforeOpenAll:null,afterOpenAll:null,beforeCloseAll:null,afterCloseAll:null,beforeInit:null,afterInit:null,beforeDestroy:null,afterDestroy:null};arguments[2]&&"object"==typeof arguments[2]?this.callbacks=t(a,arguments[2]):this.callbacks=a,this.handler={clickTrigger:p.bind(this),clickOut:u,esc:f},this.init()}function t(e,t){var r;for(r in t)e.hasOwnProperty(r)&&(e[r]=t[r]);return e}function r(e,t,r){for(;e!==t;){if(e.matches(r))return e;e=e.parentNode}}function o(e,t,r){for(var o=[];e!==t;)e.matches(r)&&o.push(e),e=e.parentNode;return o}function n(e,t){var r=o(e,t,".droppy__drop--active"),n=l(t,".droppy__drop--active");return n.filter(function(e){return this.every(function(t){return e!==t})},r)}function i(e,t){for(;e!==t;){if(e.classList.contains("droppy__trigger"))return e.parentNode.querySelector(".droppy__drop");e=e.parentNode}return!1}function l(e,t){var r=Array.prototype.slice.call(e.querySelectorAll(t)),o=Array.prototype.slice.call(e.querySelectorAll(t+" "+t));return r.filter(function(e){return this.indexOf(e)===-1},o)}function s(){var e=!1,t=document.createElement("div"),r="Webkit";return void 0!==t.style.animationName&&(e=!0),e||void 0!==t.style[r+"AnimationName"]&&(e=!0),e}function a(e,t,o){var n=r(e,document.body,".droppy__parent").querySelector(".droppy__trigger");if(n.setAttribute("aria-expanded","true"),y&&o&&(e.addEventListener("animationend",function t(){e.classList.remove(o),e.removeEventListener("animationend",t)}),e.classList.add(o)),t)for(var i=e.querySelectorAll(".droppy__drop"),l=i.length;l--;)i[l].classList.add("droppy__drop--active");e.classList.add("droppy__drop--active")}function c(e,t,o){var n=r(e,document.body,".droppy__parent").querySelector(".droppy__trigger");if(n.setAttribute("aria-expanded","false"),y&&o)e.addEventListener("animationend",function r(){if(e.classList.remove("droppy__drop--active",o),t)for(var n=e.querySelectorAll(".droppy__drop--active"),i=n.length;i--;)n[i].classList.remove("droppy__drop--active");e.removeEventListener("animationend",r)}),e.classList.add(o);else if(e.classList.remove("droppy__drop--active"),t)for(var i=e.querySelectorAll(".droppy__drop--active"),l=i.length;l--;)i[l].classList.remove("droppy__drop--active")}function p(e){var t=i(e.target,this.element);t&&(e.cancelable&&e.preventDefault(),this.toggle(t))}function u(e){for(var t=h.filter(function(t){if(!t.options.clickOutToClose)return!1;for(var r=e.target,o=e.currentTarget;r!==o;){if(r===t.element)return!1;r=r.parentNode}return!0}),r=t.length;r--;)t[r].closeAll()}function f(e){27===e.which&&h.forEach(function(e){e.options.clickEscToClose&&e.closeAll()})}var d=window.console,h=[],y=s();e.prototype.init=function(){if(!e.prototype.isInitialized(this)){"function"==typeof this.callbacks.beforeInit&&this.callbacks.beforeInit(),this.element.classList.add("droppy");for(var t,o,n=this.element.querySelectorAll(this.options.dropdownSelector),i=n.length;i--;)t=r(n[i],this.element,this.options.parentSelector),t.classList.add("droppy__parent"),n[i].classList.add("droppy__drop"),o=t.querySelector(this.options.triggerSelector),o.classList.add("droppy__trigger"),o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded","false");this.element.addEventListener("click",this.handler.clickTrigger),0===h.length&&(document.body.addEventListener("click",this.handler.clickOut),document.body.addEventListener("keyup",this.handler.esc)),h.push(this),"function"==typeof this.callbacks.afterInit&&this.callbacks.afterInit()}},e.prototype.destroy=function(){if(e.prototype.isInitialized(this)){"function"==typeof this.callbacks.beforeDestroy&&this.callbacks.beforeDestroy(),this.closeAll(),this.element.classList.remove("droppy");for(var t=this.element.querySelectorAll(".droppy__drop"),r=this.element.querySelectorAll(".droppy__parent"),o=this.element.querySelectorAll(".droppy__trigger"),n=t.length;n--;)t[n].classList.remove("droppy__drop"),r[n].classList.remove("droppy__parent"),o[n].classList.remove("droppy__trigger"),o[n].removeAttribute("aria-haspopup"),o[n].removeAttribute("aria-expanded");for(this.element.removeEventListener("click",this.handler.clickTrigger),1===h.length&&(document.body.removeEventListener("click",this.handler.clickOut),document.body.removeEventListener("keyup",this.handler.esc)),delete this.handler,n=h.length;n--;)h[n]===this&&h.splice(n,1);"function"==typeof this.callbacks.afterDestroy&&this.callbacks.afterDestroy()}},e.prototype.open=function(e,t){if("function"==typeof this.callbacks.beforeOpen&&this.callbacks.beforeOpen(),"boolean"!=typeof t&&(t=!1),this.options.closeOthers)for(var r=n(e,this.element),o=r.length;o--;)c(r[o],!0,this.options.animationOut);a(e,t,this.options.animationIn),"function"==typeof this.callbacks.afterOpen&&this.callbacks.afterOpen()},e.prototype.close=function(e,t){"function"==typeof this.callbacks.beforeClose&&this.callbacks.beforeClose(),"boolean"!=typeof t&&(t=!0),c(e,t,this.options.animationOut),"function"==typeof this.callbacks.afterClose&&this.callbacks.afterClose()},e.prototype.toggle=function(e,t){e.classList.contains("droppy__drop--active")?this.close(e,t):e.classList.contains("droppy__drop")&&this.open(e,t)},e.prototype.closeAll=function(){"function"==typeof this.callbacks.beforeCloseAll&&this.callbacks.beforeCloseAll();for(var e=l(this.element,".droppy__drop--active"),t=e.length;t--;)c(e[t],!0,this.options.animationOut);"function"==typeof this.callbacks.afterCloseAll&&this.callbacks.afterCloseAll()},e.prototype.openAll=function(){"function"==typeof this.callbacks.beforeOpenAll&&this.callbacks.beforeOpenAll();for(var e=l(this.element,".droppy__drop"),t=e.length;t--;)a(e[t],!0,this.options.animationIn);"function"==typeof this.callbacks.afterOpenAll&&this.callbacks.afterOpenAll()},e.prototype.isInitialized=function(e){return h.some(function(t){return t===e})},e.prototype.getInstance=function(e){for(var t=h.length;t--;)if(h[t].element===e)return h[t]},window.Droppy=e;for(var v=document.querySelectorAll("[data-droppy]"),m=0;m<v.length;++m)new e(v[m],JSON.parse(v[m].getAttribute("data-droppy")))}();