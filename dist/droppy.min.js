!function(){"use strict";function e(e,t){var o;for(o in t)e.hasOwnProperty(o)&&(e[o]=t[o]);return e}function t(e,t){for(var o=[];e!=t;)e.classList.contains("droppy__drop--active")&&o.push(e),e=e.parentElement;return o}function o(e,o){var r=t(e,o),n=[].slice.call(o.querySelectorAll(".droppy__drop--active")),i=n.filter(function(e){return this.every(function(t){return e!=t})},r);return i}function r(e){e.element.addEventListener("click",function(t){t.preventDefault();for(var o=t.target;!o.classList.contains("droppy__trigger");)o=o.parentElement;e.toggle(o.nextElementSibling)},!0)}var n=window.console;window.Droppy=function(t,o){if(t.nodeType!=Node.ELEMENT_NODE)return void(n&&n.error("Droppy: the given element is not valid.",t));this.element=t;var i={dropdown_selector:"li > ul",close_others:!0};arguments[1]&&"object"==typeof arguments[1]&&(this.options=e(i,arguments[1]));var p=this.element.querySelectorAll(this.options.dropdown_selector).length;return p?(this.init(),void r(this)):void(n&&n.error("Droppy: the given dropdown_selector returns no value.",this.options.dropdown_selector))},Droppy.prototype.init=function(){this.element.classList.add("droppy");for(var e=this.element.querySelectorAll(this.options.dropdown_selector),t=e.length;t--;)e[t].parentElement.classList.add("droppy__parent"),e[t].previousElementSibling.classList.add("droppy__trigger"),e[t].classList.add("droppy__drop")},Droppy.prototype.open=function(e){if(this.options.close_others)for(var t=o(e,this.element),r=t.length;r--;)t[r].classList.remove("droppy__drop--active");e.classList.add("droppy__drop--active")},Droppy.prototype.close=function(e){for(var t=e.querySelectorAll(".droppy__drop--active"),o=t.length;o--;)t[o].classList.remove("droppy__drop--active");e.classList.remove("droppy__drop--active")},Droppy.prototype.toggle=function(e){e.classList.contains("droppy__drop--active")?this.close(e):this.open(e)},Droppy.prototype.closeAll=function(){for(var e=this.element.querySelectorAll(".droppy__drop--active"),t=e.length;t--;)e[t].classList.remove("droppy__drop--active")}}();