/**
 * Droppy - v1.0.4
 * Pure JavaScript multi-level dropdown menu.
 * By OutlawPlz, license GPL-3.0.
 * https://github.com/OutlawPlz/droppy.git
 */
Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var r,n;if(null===this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(r=e),n=0;n<i;){var s;n in o&&(s=o[n],t.call(r,s,n,o)),n++}}),Array.prototype.map||(Array.prototype.map=function(t,e){var r,n,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),s=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(r=e),n=new Array(s),o=0;o<s;){var l,c;o in i&&(l=i[o],c=t.call(r,l,o,i),n[o]=c),o++}return n}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var r,n=arguments.length;for(r=0;r<n;r++)t=arguments[r],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:r.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",r="prototype",n=t.Element[r],o=Object,i=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[r].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1},l=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},c=function(t,e){if(""===e)throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},a=function(t){for(var e=i.call(t.getAttribute("class")||""),r=e?e.split(/\s+/):[],n=0,o=r.length;n<o;n++)this.push(r[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},p=a[r]=[],h=function(){return new a(this)};if(l[r]=Error[r],p.item=function(t){return this[t]||null},p.contains=function(t){return t+="",c(this,t)!==-1},p.add=function(){var t,e=arguments,r=0,n=e.length,o=!1;do t=e[r]+"",c(this,t)===-1&&(this.push(t),o=!0);while(++r<n);o&&this._updateClassName()},p.remove=function(){var t,e,r=arguments,n=0,o=r.length,i=!1;do for(t=r[n]+"",e=c(this,t);e!==-1;)this.splice(e,1),i=!0,e=c(this,t);while(++n<o);i&&this._updateClassName()},p.toggle=function(t,e){t+="";var r=this.contains(t),n=r?e!==!0&&"remove":e!==!1&&"add";return n&&this[n](t),e===!0||e===!1?e:!r},p.toString=function(){return this.join(" ")},o.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,d)}catch(t){t.number===-2146823252&&(d.enumerable=!1,o.defineProperty(n,e,d))}}else o[r].__defineGetter__&&n.__defineGetter__(e,h)}}(self)),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1}),function(){"use strict";function t(t,r){if(t.nodeType!==Node.ELEMENT_NODE)return void(p&&p.error("Droppy: the given element is not valid.",t));this.element=t;var n=this.element.querySelector(r.dropdownSelector);if(!n)return void(p&&p.error("Droppy: the given dropdownSelector returns no value.",r.dropdownSelector));var o=this.element.querySelector(r.parentSelector);if(!o)return void(p&&p.err("Droppy: the given parentSelector returns no value.",r.parentSelector));var i=this.element.querySelector(r.triggerSelector);if(!i)return void(p&&p.err("Droppy: the given triggerSelector returns no value.",r.triggerSelector));var h={parentSelector:"li",dropdownSelector:"li > ul",triggerSelector:"a",closeOthers:!0,clickOutToClose:!0,clickEscToClose:!0,animationIn:!1,animationOut:!1};arguments[1]&&"object"==typeof arguments[1]?this.options=e(h,arguments[1]):this.options=h,this.handler={clickTrigger:s.bind(this),clickOut:l,esc:c,animationEnd:a.bind(this)},this.init()}function e(t,e){var r;for(r in e)t.hasOwnProperty(r)&&(t[r]=e[r]);return t}function r(t,e,r){for(;t!==e;){if(t.matches(r))return t;t=t.parentNode}}function n(t,e){for(var r=[];t!==e;)t.classList.contains("droppy__drop--active")&&r.push(t),t=t.parentNode;return r}function o(t,e){var r=n(t,e),o=[].slice.call(e.querySelectorAll(".droppy__drop--active"));return o.filter(function(t){return this.every(function(e){return t!==e})},r)}function i(t,e){for(;t!==e;){if(t.classList.contains("droppy__trigger"))return t.parentNode.querySelector(".droppy__drop");t=t.parentNode}return!1}function s(t){var e=i(t.target,this.element);e&&(t.cancelable&&t.preventDefault(),this.toggle(e))}function l(t){var e=h.map(function(e){if(!e.options.clickOutToClose)return!1;for(var r=t.target,n=t.currentTarget;r!==n;){if(r===e.element)return!1;r=r.parentNode}return e});e.forEach(function(t){t&&t.closeAll()})}function c(t){27===t.which&&h.forEach(function(t){t.options.clickEscToClose&&t.closeAll()})}function a(t){if(t.target.classList.contains(this.options.animationIn))t.target.classList.remove(this.options.animationIn);else if(t.target.classList.contains(this.options.animationOut)){t.target.classList.remove("droppy__drop--active"),t.target.classList.remove(this.options.animationOut);for(var e=t.target.querySelectorAll(".droppy__drop--active"),r=e.length;r--;)e[r].classList.remove("droppy__drop--active")}}var p=window.console,h=[];t.prototype.init=function(){if(!t.prototype.isInitialized(this)){this.element.classList.add("droppy");for(var e,n=this.element.querySelectorAll(this.options.dropdownSelector),o=n.length;o--;)e=r(n[o],this.element,this.options.parentSelector),e.classList.add("droppy__parent"),e.querySelector(this.options.triggerSelector).classList.add("droppy__trigger"),n[o].classList.add("droppy__drop");this.element.addEventListener("click",this.handler.clickTrigger),this.element.addEventListener("animationend",this.handler.animationEnd),0===h.length&&(document.body.addEventListener("click",this.handler.clickOut),document.body.addEventListener("keyup",this.handler.esc)),h.push(this)}},t.prototype.destroy=function(){if(t.prototype.isInitialized(this)){this.closeAll(),this.element.classList.remove("droppy");for(var e=this.element.querySelectorAll(".droppy__drop"),r=this.element.querySelectorAll(".droppy__parent"),n=this.element.querySelectorAll(".droppy__trigger"),o=e.length;o--;)e[o].classList.remove("droppy__drop"),r[o].classList.remove("droppy__parent"),n[o].classList.remove("droppy__trigger");for(this.element.removeEventListener("click",this.handler.clickTrigger),this.element.removeEventListener("animationend",this.handler.animationEnd),1===h.length&&(document.body.removeEventListener("click",this.handler.clickOut),document.body.removeEventListener("keyup",this.handler.esc)),o=h.length;o--;)h[o]===this&&h.splice(o,1)}},t.prototype.open=function(t){if(this.options.closeOthers)for(var e=o(t,this.element),r=e.length;r--;)this.close(e[r]);t.classList.add("droppy__drop--active"),this.options.animationIn&&t.classList.add(this.options.animationIn)},t.prototype.close=function(t){this.options.animationOut?t.classList.add(this.options.animationOut):t.classList.remove("droppy__drop--active")},t.prototype.toggle=function(t){t.classList.contains("droppy__drop--active")?this.close(t):this.open(t)},t.prototype.closeAll=function(){for(var t=this.element.querySelectorAll(".droppy__drop--active"),e=t.length;e--;)t[e].classList.remove("droppy__drop--active")},t.prototype.openAll=function(){for(var t=this.element.querySelectorAll(".droppy__drop"),e=t.length;e--;)t[e].classList.add("droppy__drop--active")},t.prototype.isInitialized=function(t){return h.some(function(e){return e===t})},t.prototype.getStore=function(){return h},t.prototype.getInstance=function(t){for(var e=h.length;e--;)if(h[e].element===t)return h[e]},window.Droppy=t;for(var d=document.querySelectorAll("[data-droppy]"),u=0;u<d.length;++u)new t(d[u],JSON.parse(d[u].getAttribute("data-droppy")))}();