/*! v2.0.1 */
"use strict";const droppyOptions={animationIn:"",animationOut:"",display:"block",clickAwayToClose:!0,preventDefault:!1},clickAwayToClose=[];document.body.addEventListener("click",(t=>{for(const i of clickAwayToClose)!i.drop.checkVisibility()||i.trigger.contains(t.target)||i.drop.contains(t.target)||i.hide()}));export default class Droppy{trigger;drop;options;constructor(t,i,o){this.trigger=t,this.trigger.addEventListener("click",(()=>this.toggle())),this.drop=i,this.options={...droppyOptions,...o},this.options.clickAwayToClose&&clickAwayToClose.push(this)}show(){this.options.preventDefault&&event.preventDefault(),this.options.animationIn&&(this.drop.addEventListener("animationend",(()=>{this.drop.classList.remove(this.options.animationIn)}),{once:!0}),this.drop.classList.add(this.options.animationIn)),this.drop.style.display=this.options.display}hide(){this.options.preventDefault&&event.preventDefault(),this.drop.addEventListener("animationend",(()=>{this.drop.style.display="none",this.options.animationOut&&this.drop.classList.remove(this.options.animationOut)}),{once:!0}),this.options.animationOut?this.drop.classList.add(this.options.animationOut):this.drop.dispatchEvent(new Event("animationend"))}toggle(){this.drop.checkVisibility()?this.hide():this.show()}}const generatorOptions={wrapper:"li",trigger:"a",drop:"ul.menu",...droppyOptions};export function generator(t,i){const o=[];i={...generatorOptions,...i};return t.querySelectorAll(i.wrapper).forEach((t=>{const e=t.querySelector(i.trigger),s=t.querySelector(i.drop);e&&s&&o.push(new Droppy(e,s,i))})),o}document.querySelectorAll("[data-droppy]").forEach((t=>{generator(t,JSON.parse(t.dataset.droppy||"{}"))}));